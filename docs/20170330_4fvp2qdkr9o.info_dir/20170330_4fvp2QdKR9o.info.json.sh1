#!/bin/bash

#40000= 249   1054309     0 webm          none          opus '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=249&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=audio%2Fwebm&gir=yes&clen=1054309&dur=183.161&lmt=1490941122189032&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgHghvnaZ9njEKkEDVfW-VJLeOSRszVmF0GINZP6V7OIACIFoF4mnqdVzxlIXzp2R5_PJ8XbGh-yxkNrTCTOgnXXAQ&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40001= 250   1398597     0 webm          none          opus '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=250&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=audio%2Fwebm&gir=yes&clen=1398597&dur=183.161&lmt=1490941120847075&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhANNrAmDXBbX7shfykzcZ1XyTem0VSBUfaYUI23yECcPmAiAZMnmtnZ9Q9cNvOlH2ZP_m_bOW74Zaz9krfvnm1xzc0A%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40002= 140   2177623     0  m4a          none     mp4a.40.2 '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=140&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=audio%2Fmp4&gir=yes&clen=2177623&dur=183.205&lmt=1491015999220625&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhANOsv1F3D3dNg27lFbDYlCeAJ6ptYGqqTy0pjisy0my5AiA9YpYx_f6SpWq0Xktc6wX8rhiz5YJnEYj2btyPlNL6Ww%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40003= 251   2097997     0 webm          none          opus '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=251&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=audio%2Fwebm&gir=yes&clen=2097997&dur=183.161&lmt=1490941120534785&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgPJ09T0ieOi_UmoQwC6mQhAboN5sXIBHtLgDOPdXJ9AUCICg5LZDmopU-USthZgN83G7Owu0aqv1d_Co64CcJzAeD&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40004= 160   1016273   256  mp4   avc1.4d400c          none '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=160&aitags=133%2C160%2C242%2C278&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fmp4&gir=yes&clen=1016273&dur=183.149&lmt=1491015988779981&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAI1Pvbfkkr7ITpEcLsgp_vyaa_wQNRXcD6EsxRfRAj4SAiEAkghykkyuoncu2cq7Rzo2E6E-mbXTicntF_B1FSm0CoQ%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40005= 278   2179137   256 webm           vp9          none '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=278&aitags=133%2C160%2C242%2C278&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fwebm&gir=yes&clen=2179137&dur=183.116&lmt=1490941197448027&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgcLcQDS9qh3MO8gMitypEmRysB9NxqsvNKCc4gxLkUFQCIFh1nmFsk1vCIuIYBwJCmPQx_MdBqcTyZcRmXtCWQ7ki&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40006= 242   3099161   426 webm           vp9          none '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=242&aitags=133%2C160%2C242%2C278&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fwebm&gir=yes&clen=3099161&dur=183.116&lmt=1490941196776793&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAPd6Voe88I5jBSZh40OZa-zqx9MjPyZZOQbGQzvDPH6DAiEAyXrw63IovTmSsXt4LfHNOdPuwJFg1u5f4yYJSM4stPA%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40007= 133   5620066   426  mp4   avc1.4d4015          none '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=133&aitags=133%2C160%2C242%2C278&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fmp4&gir=yes&clen=5620066&dur=183.149&lmt=1491015984062287&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgYmw7OVW6gVXs_iU_hbs1dHVQcDmvG2v58vC1awseEHQCIA4W7GC0OAjG-Cot1jrIWURFjvZaJYJFFB4VXOdOk0CA&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes
#40008=  43  13844062   640 webm         vp8.0        vorbis '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=43&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fwebm&gir=yes&clen=13844062&ratebypass=yes&dur=0.000&lmt=1490930928058569&mt=1565485820&fvip=6&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRQIgEbQa8FlLvRdQcBm9_RkGHNgOsAjOeYUtE2bGEPCxyUkCIQDYlpcmPO43JmkgwBsd4TvKU5_7ZZ4LSXw-n36es6LXcA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei
#40009=  18   8243945   568  mp4   avc1.42001E     mp4a.40.2 '              https' https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=18&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fmp4&gir=yes&clen=8243945&ratebypass=yes&dur=183.205&lmt=1491016009201301&mt=1565485820&fvip=6&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRQIhALj6QrWhkzVOzs3T-XFF95oWI7YFk4V59-08aRIZ2qdqAiBPjeN4gfylbCnddKUyigRvUYymmT3srlWcwQWSPW-ecw%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei

wget -c -O 20170330_4fvp2QdKR9o.info.json.jpg \
    'https://i.ytimg.com/vi/4fvp2QdKR9o/hqdefault.jpg' 

# Name : idx      size vo1_ao2_both3   ext   protocol
# Vo   :   7   5620066 1                mp4  'https' 
# Ao   :   2   2177623 2                m4a  'https' 
# Both :   8  13844062 3               webm  'https' 
# combine183838 01 : ideal : use vo + ao : 20170330_4fvp2QdKR9o.info.json.vo.mp4 + 20170330_4fvp2QdKR9o.info.json.ao.m4a 
rm -f 20170330_4fvp2QdKR9o.info.json.vo.mp4 
echo echo wget -c \
    -O 20170330_4fvp2QdKR9o.info.json.vo.mp4  \
    'https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=133&aitags=133%2C160%2C242%2C278&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=video%2Fmp4&gir=yes&clen=5620066&dur=183.149&lmt=1491015984062287&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgYmw7OVW6gVXs_iU_hbs1dHVQcDmvG2v58vC1awseEHQCIA4W7GC0OAjG-Cot1jrIWURFjvZaJYJFFB4VXOdOk0CA&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 133 \
    -o 20170330_4fvp2QdKR9o.info.json.vo.mp4  \
    'https://www.youtube.com/watch?v=4fvp2QdKR9o'
rm -f 20170330_4fvp2QdKR9o.info.json.ao.m4a 
echo echo wget -c \
    -O 20170330_4fvp2QdKR9o.info.json.ao.m4a  \
    'https://r4---sn-aigl6n76.googlevideo.com/videoplayback?expire=1565507571&ei=k2tPXYLaC8GAkwaJipqwDQ&ip=148.163.76.139&id=o-AJ1I9_Q8JDbaLFoELZGnU-5wNoL4UqbIS_xTxvYEHJXE&itag=140&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n76%2Csn-5hnedn7l&ms=au%2Conr&mv=u&mvi=3&pl=22&mime=audio%2Fmp4&gir=yes&clen=2177623&dur=183.205&lmt=1491015999220625&mt=1565485820&fvip=6&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhANOsv1F3D3dNg27lFbDYlCeAJ6ptYGqqTy0pjisy0my5AiA9YpYx_f6SpWq0Xktc6wX8rhiz5YJnEYj2btyPlNL6Ww%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRAIgOlyKuD3aDinimxaVePvfQT6C5w032pJDvx7bazJCNysCIDc5_FJrT0OuF9ov3Cw790ltmiVPVveOv1ROGF7oI3Ei&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 140 \
    -o 20170330_4fvp2QdKR9o.info.json.ao.m4a  \
    'https://www.youtube.com/watch?v=4fvp2QdKR9o'

rm -f 20170330_4fvp2QdKR9o.info.json.wav 
/usr/bin/ffmpeg \
    -i 20170330_4fvp2QdKR9o.info.json.ao.m4a         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20170330_4fvp2QdKR9o.info.json.wav 
rm -f 20170330_4fvp2QdKR9o.info.json.mp3 
rm -f 20170330_4fvp2QdKR9o.info.json.25k.mp4 
echo echo lame       \
    20170330_4fvp2QdKR9o.info.json.wav       \
    20170330_4fvp2QdKR9o.info.json.mp3
/usr/bin/ffmpeg \
    -i 20170330_4fvp2QdKR9o.info.json.ao.m4a         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20170330_4fvp2QdKR9o.info.json.25k.mp4 
rm -f 20170330_4fvp2QdKR9o.info.json.mp4 
/usr/bin/ffmpeg \
    -i 20170330_4fvp2QdKR9o.info.json.vo.mp4  \
    -i 20170330_4fvp2QdKR9o.info.json.wav        \
    -map 0:v:0 -map 1:a:0      \
    -ac 1 -ar 22050 -b:a 25000   \
    -c:v copy   \
    20170330_4fvp2QdKR9o.info.json.mp4 \
    && echo 'ok     :gen 20170330_4fvp2QdKR9o.info.json.mp4' >> result.txt \
    || echo 'failed :gen 20170330_4fvp2QdKR9o.info.json.mp4' >> result.txt 

#10000= description:=<George Weiping Qin_s Mock Campaign Speech for Congress 2018 ，> 
#10001= id:=<4fvp2QdKR9o> 
#10002= webpage_url:=<https://www.youtube.com/watch?v=4fvp2QdKR9o> 
#10003= thumbnail:=<https://i.ytimg.com/vi/4fvp2QdKR9o/hqdefault.jpg> 
#10004= fulltitle:=<秦伟平宣布竞选美国国会议员？ George Weiping Qin's Mock Campaign Speech for Congress 2018> 
#10005= format_id:=<133+251> 
#10006= upload_date:=<20170330> 
#10007= uploader:=<Weiping Show《平论》> 
#10008= protocol:=<<nil>> 

#30000=  <ext:webm> <format_id:249> <acodec:opus> <url:https://r4---sn-ai> <filesize:1054309> <protocol:https> <vcodec:none>
#30001=  <protocol:https> <ext:webm> <format_id:250> <url:https://r4---sn-ai> <vcodec:none> <acodec:opus> <filesize:1398597>
#30002=  <vcodec:none> <protocol:https> <format_id:140> <url:https://r4---sn-ai> <filesize:2177623> <acodec:mp4a.40.2> <ext:m4a>
#30003=  <filesize:2097997> <format_id:251> <ext:webm> <protocol:https> <url:https://r4---sn-ai> <vcodec:none> <acodec:opus>
#30004=  <format_id:160> <width:256> <filesize:1016273> <protocol:https> <vcodec:avc1.4d400c> <ext:mp4> <url:https://r4---sn-ai> <acodec:none>
#30005=  <ext:webm> <filesize:2179137> <format_id:278> <url:https://r4---sn-ai> <protocol:https> <acodec:none> <vcodec:vp9> <width:256>
#30006=  <vcodec:vp9> <format_id:242> <url:https://r4---sn-ai> <ext:webm> <filesize:3099161> <protocol:https> <width:426> <acodec:none>
#30007=  <protocol:https> <url:https://r4---sn-ai> <vcodec:avc1.4d4015> <format_id:133> <ext:mp4> <width:426> <filesize:5620066> <acodec:none>
#30008=  <protocol:https> <acodec:vorbis> <ext:webm> <filesize:13844062> <url:https://r4---sn-ai> <vcodec:vp8.0> <width:640> <format_id:43>
#30009=  <filesize:8243945> <format_id:18> <acodec:mp4a.40.2> <url:https://r4---sn-ai> <protocol:https> <vcodec:avc1.42001E> <ext:mp4> <width:568>

